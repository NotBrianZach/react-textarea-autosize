!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t(e.TextareaAutosize={},e.React)}(this,function(e,i){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}i=i&&i.hasOwnProperty("default")?i.default:i;var t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e};"object"==typeof Reflect&&Reflect;var o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;!function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},o=0;o<10;o++)t["_"+String.fromCharCode(o)]=o;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return;var n={};"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),Object.keys(Object.assign({},n)).join("")}catch(e){return}}();function s(){}var p,u=(function(e){e.exports=function(){function e(e,t,o,n,r,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}var o={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return o.checkPropTypes=s,o.PropTypes=o}()}(p={exports:{}},p.exports),p.exports),h="undefined"!=typeof window&&"undefined"!=typeof document,f=!!h&&!!document.documentElement.currentStyle,l={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},g=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],m={},b=h&&document.createElement("textarea"),y=function(t){Object.keys(l).forEach(function(e){t.style.setProperty(e,l[e],"important")})};function c(e,t,o,n,r){void 0===o&&(o=!1),void 0===n&&(n=null),void 0===r&&(r=null),null===b.parentNode&&document.body.appendChild(b);var i=function(e,t,o){void 0===o&&(o=!1);if(o&&m[t])return m[t];var n=window.getComputedStyle(e);if(null===n)return null;var r=g.reduce(function(e,t){return e[t]=n.getPropertyValue(t),e},{}),i=r["box-sizing"];if(""===i)return null;f&&"border-box"===i&&(r.width=parseFloat(r.width)+parseFloat(n["border-right-width"])+parseFloat(n["border-left-width"])+parseFloat(n["padding-right"])+parseFloat(n["padding-left"])+"px");var a={sizingStyle:r,paddingSize:parseFloat(r["padding-bottom"])+parseFloat(r["padding-top"]),borderSize:parseFloat(r["border-bottom-width"])+parseFloat(r["border-top-width"]),boxSizing:i};o&&(m[t]=a);return a}(e,t,o);if(null===i)return null;var a=i.paddingSize,s=i.borderSize,p=i.boxSizing,u=i.sizingStyle;Object.keys(u).forEach(function(e){b.style[e]=u[e]}),y(b),b.value=e.value||e.placeholder||"x";var h=-1/0,l=1/0,c=b.scrollHeight;"border-box"===p?c+=s:"content-box"===p&&(c-=a),b.value="x";var d=b.scrollHeight-a;return null===n&&null===r||(null!==n&&(h=d*n,"border-box"===p&&(h=h+a+s),c=Math.max(h,c)),null!==r&&(l=d*r,"border-box"===p&&(l=l+a+s),c=Math.min(l,c))),{height:c,minHeight:h,maxHeight:l,rowCount:Math.floor(c/d)}}h&&y(b);var d,v=(void 0===d&&(d=0),function(){return++d}),_=function(){},O=h&&window.requestAnimationFrame?[window.requestAnimationFrame,window.cancelAnimationFrame]:[setTimeout,clearTimeout],w=O[0],x=O[1],C=function(t){var e,o;function n(e){var i;return(i=t.call(this,e)||this)._resizeLock=!1,i._onRootDOMNode=function(e){i._rootDOMNode=e,i.props.inputRef(e)},i._onChange=function(e){i._controlled||i._resizeComponent(),i.props.onChange(e)},i._resizeComponent=function(e){if(void 0===e&&(e=_),void 0!==i._rootDOMNode){var t=c(i._rootDOMNode,i._uid,i.props.useCacheForDOMMeasurements,i.props.minRows,i.props.maxRows);if(null!==t){var o=t.height,n=t.minHeight,r=t.maxHeight;i.rowCount=t.rowCount,i.state.height===o&&i.state.minHeight===n&&i.state.maxHeight===r?e():i.setState({height:o,minHeight:n,maxHeight:r},e)}else e()}else e()},i.state={height:e.style&&e.style.height||0,minHeight:-1/0,maxHeight:1/0},i._uid=v(),i._controlled="string"==typeof e.value,i}(e=n).prototype=Object.create((o=t).prototype),(e.prototype.constructor=e).__proto__=o;var r=n.prototype;return r.render=function(){var e=this.props,t=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)t.indexOf(o=i[n])<0&&(r[o]=e[o]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t.indexOf(o=a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}(e,["inputRef","maxRows","minRows","onHeightChange","useCacheForDOMMeasurements"]);return t.style=a({},t.style,{height:this.state.height}),Math.max(t.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(t.style.overflow="hidden"),i.createElement("textarea",a({},t,{onChange:this._onChange,ref:this._onRootDOMNode}))},r.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent(function(){return e._resizeLock=!1}))},window.addEventListener("resize",this._resizeListener)},r.componentDidUpdate=function(e,t){var o=this;e!==this.props&&(this._clearNextFrame(),this._onNextFrameActionId=w(function(){return o._resizeComponent()})),this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},r.componentWillUnmount=function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeListener),delete m[this._uid]},r._clearNextFrame=function(){x(this._onNextFrameActionId)},n}(i.Component);C.propTypes={inputRef:u.func,maxRows:u.number,minRows:u.number,onChange:u.func,onHeightChange:u.func,useCacheForDOMMeasurements:u.bool,value:u.string},C.defaultProps={inputRef:_,onChange:_,onHeightChange:_,useCacheForDOMMeasurements:!1},e.default=C,Object.defineProperty(e,"__esModule",{value:!0})});
